<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0,viewport-fit=cover " />
    <title>cua</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css">
    <link rel="stylesheet" href="css/slick.css">
    <link rel="stylesheet" href="css/slick-theme.css">

</head>

<body>
       <!-- 客服popup -->
     <div class="client-popup-mask">
       <div class="client-popup-cotainer">
            <a href="https://line.me/R/ti/p/@146rzxqs?oat_content=url&ts=05301958">
              <div class="client-popup-btn line-service">
              <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60" fill="none">
              <circle cx="30" cy="30" r="30" fill="#06C755"/>
              <path d="M16.5793 38H10.6284C9.72904 38 9 37.2731 9 36.3765V23.9231C9 23.0265 9.72904 22.2996 10.6284 22.2996C11.5277 22.2996 12.2567 23.0265 12.2567 23.9231V34.7531H16.5791C17.4784 34.7531 18.2074 35.4799 18.2074 36.3765C18.2077 37.2731 17.4786 38 16.5793 38ZM22.7873 36.3325C22.7873 37.2291 22.0583 37.9559 21.1589 37.9559C20.2596 37.9559 19.5306 37.2291 19.5306 36.3325V23.8791C19.5306 22.9824 20.2596 22.2556 21.1589 22.2556C22.0583 22.2556 22.7873 22.9824 22.7873 23.8791V36.3325ZM37.5063 36.3325C37.5063 37.0359 37.052 37.6593 36.3808 37.8766C36.2152 37.9302 36.0456 37.9562 35.8781 37.9562C35.3666 37.9562 34.8725 37.7152 34.5601 37.2864L28.6964 29.2346V36.3327C28.6964 37.2293 27.9673 37.9562 27.068 37.9562C26.1687 37.9562 25.4397 37.2293 25.4397 36.3327V24.2355C25.4397 23.5321 25.894 22.9087 26.5651 22.6914C27.2364 22.4743 27.9713 22.7122 28.3858 23.2816L34.2496 31.3333V23.8791C34.2496 22.9824 34.9786 22.2556 35.8779 22.2556C36.7772 22.2556 37.5063 22.9824 37.5063 23.8791V36.3325ZM49.3716 37.7004H41.3124C40.4131 37.7004 39.6841 36.9735 39.6841 36.0769V29.8504V23.6235C39.6841 22.7269 40.4131 22 41.3124 22H49.1216C50.0209 22 50.7499 22.7269 50.7499 23.6235C50.7499 24.5201 50.0209 25.2469 49.1216 25.2469H42.9408V28.2269H47.9566C48.8559 28.2269 49.585 28.9538 49.585 29.8504C49.585 30.747 48.8559 31.4739 47.9566 31.4739H42.9408V34.4534H49.3716C50.271 34.4534 51 35.1803 51 36.0769C51 36.9735 50.271 37.7004 49.3716 37.7004Z" fill="white"/>
              </svg>
              <div class="client-popup-label">LINE客服</div>
              </div>
            </a>  
            <a href="service.html">
              <div class="client-popup-btn online-service">
                        <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60" fill="none">
                        <circle cx="30" cy="30" r="30" fill="#4054C7"/>
                        <path d="M21.8163 12.3745C16.5981 15.4499 13.3298 21.0735 13.1496 27.1979L12.737 27.3101C9.69022 28.1427 8.21229 32.5246 9.42225 37.1347C10.6311 41.7416 14.0574 44.7822 17.1053 43.9502L18.8983 43.4576C19.8555 43.1956 20.3227 41.8428 19.948 40.4197L17.2239 30.0368V27.7364C17.2239 22.8907 19.7531 18.4193 23.861 15.9951C27.9727 13.5697 33.028 13.5697 37.1386 15.9951C41.2465 18.4193 43.7757 22.8907 43.7757 27.7364V30.0462L41.2102 39.8182C40.1464 41.238 38.8076 42.4559 37.2398 43.3775C36.4532 43.8441 35.6271 44.204 34.7815 44.4892C34.3841 43.7346 33.7664 43.242 33.061 43.242H27.3296C26.1191 43.242 25.1506 44.6706 25.1506 46.4441V46.799C25.1506 48.5692 26.1191 50 27.3296 50H33.0616C33.879 50 34.579 49.341 34.9531 48.3735C36.3774 47.9821 37.7677 47.4127 39.081 46.6404C40.4767 45.8172 41.7267 44.806 42.8175 43.6544L43.897 43.9508C46.9422 44.7828 50.3712 41.7422 51.5779 37.1353C52.7873 32.5251 51.3105 28.1433 48.2621 27.3107L47.8506 27.1957C47.6665 21.0707 44.4016 15.4499 39.1823 12.375C36.4987 10.7917 33.4979 10 30.4982 10C27.5006 9.99945 24.5009 10.7911 21.8163 12.3745Z" fill="white"/>
                        </svg>
                        <div class="client-popup-label">線上客服</div>
              </div>
            </a>
        </div>
     </div>
     <!-- 客服popup --> 
        <div class="layout-main inner-bg">
        <div class="nav glow-bg">
            <div class="nav__left">
                <a class="btn-return" href="https://gf888.tw/1824e8c9a3ad9495a988cd567860aaf0">
                    <div class="img"></div>
                </a>
            </div>
            <div class="nav__logo">
                <span class="logo-text">實名認證</span>
            </div>
        </div>

        <div class="layout-content">
            <div class="com-inner">
                <div class="com-inner__content">
                    <form id="edit-form" method="POST" action="">
                        <div class="mydata">
                            <div class="cell-list">
                                <div class="com-cell-title">
                                    <h4 class="com-cell-title__text">1.基本資料</h4>
                                </div>
                                <div class="com-cell">
                                    <div class="com-cell__form">
                                        <div class="form-title">
                                            <span class="form-title__require">＊</span>
                                            <p class="form-title__text">真實姓名</p>
                                        </div>
                                        <div class="form-group">
                                            <input name="name" type="text" class="el-input" placeholder="请输入真實姓名" required="">
                                        </div>
                                    </div>
                                </div>
                                <div class="com-cell">
                                    <div class="com-cell__form">
                                        <div class="form-title">
                                            <span class="form-title__require">＊</span>
                                            <p class="form-title__text">出生年月日</p>
                                        </div>
                                        <div class="form-group">
                                            <input name="birthday" value="2007-08-16" type="hidden" id="birthday" class="el-input flatpickr-input" placeholder="請輸入出生年月日" required="" readonly="readonly"><input class="el-input flatpickr-input flatpickr-mobile" tabindex="1" type="date" required="" placeholder="請輸入出生年月日" value="2007-08-16">
                                        </div>
                                    </div>
                                </div>
                                <div class="com-cell">
                                    <div class="com-cell__form">
                                        <div class="form-title">
                                            <span class="form-title__require">＊</span>
                                            <p class="form-title__text">身分證號</p>
                                        </div>
                                        <div class="form-group">
                                            <input name="id_number" maxlength="10" type="text" class="el-input" placeholder="請輸入身分證號" required="">
                                        </div>
                                    </div>
                                </div>
                                <div class="com-cell-title">
                                    <h4 class="com-cell-title__text">2.上傳認證</h4>
                                    <a href="javascript:void(0)" class="btn btn-secondary rounded-pill btn-ripple" onclick="show9()">查看範例</a>
                                </div>
                                <div class="com-cell-info ">
                                    身分證正面
                                </div>
                                <div class="com-cell">
                                    <div class="com-cell__form cell__form-item">
                                    <div class="preview" style="height:auto;">
                                        <p>點擊選擇身分證正面</p>
                                    </div>
                                    <input class="image" type="file" id="id-front" name="id_front" style="display: none;" accept="image/*">

                                    </div>
                                </div>
                                <div class="com-cell-info ">
                                    身分證背面
                                </div>
                                <div class="com-cell">
                                    <div class="com-cell__form cell__form-item">
                                    <div class="preview" style="height:auto;">
                                        <p>點擊選擇身分證背面</p>
                                    </div>
                                    <input class="image" type="file" id="id-back" name="id_back" style="display: none;" accept="image/*">

                                    </div>
                                </div>
                                
                                <div class="com-cell-title">
                                    <h4 class="com-cell-title__text">注意事項</h4>
                                </div>
                                <div class="com-cell-info ">※上傳前請務必看過範例。</div>
                            </div>
                            <div class="com-inner__content-footer">
                                <button type="submit" class="btn btn-primary rounded-pill btn-ripple">送出</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

  <!-- layout-tabbar -->
   <div class="layout-tabbar">
      <!-- ./component/footer -->
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
    </script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" type="text/javascript"></script>

  <script type="text/javascript" src="js/slick.min.js"></script>
  <script src="js/main.js"></script>

  <script type="text/javascript">
    $('.autoplay').slick({
      slidesToShow: 3,
      slidesToScroll: 1,
      autoplay: true,
      autoplaySpeed: 2000,
      responsive: [{
        breakpoint: 768,
        settings: {
          arrows: false,
          centerMode: true,
          slidesToShow: 1
        }
      }, {
        breakpoint: 992,
        settings: {
          arrows: false,
          centerMode: true,
          slidesToShow: 2
        }
      }]
    });
    //show/hide
    function openCity(evt, cityName) {
      // Declare all variables
      var i, tabcontent, tablinks;

      // Get all elements with class="tablinks" and remove the class "active"
      tablinks = document.getElementsByClassName('list-item');
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(
          ' active',
          ''
        );
      }

      // Show the current tab, and add an "active" class to the button that opened the tab
      evt.currentTarget.className += ' active';

      //scroll animation
    }
    function showLang() {
      var popup = document.getElementById('show');
      if (popup.style.display === 'none') {
        popup.style.display = 'block';
      } else {
        popup.style.display = 'none';
      }
    }
    function showPromotions() {
      var popup = document.getElementById('promotions');
      if (popup.style.display === 'none') {
        popup.style.display = 'block';
      } else {
        popup.style.display = 'none';
      }
    }
  </script>

 <div id="show9" class="cardboard-dialog" style="display: none;">
    <div class="dialog-mask">
        <div class="dialog success">
            <div class="dialog__body">
                <div class="cardboard">
                    <img class="cardboard__img" src="/assets/style/images/id-front.jpg" alt="">
                    <p class="dialog-alert__text-info">請維持文件完整性，不能切角或切邊/反光/模糊不清/遮住個人資料</p>
                </div>
            </div>
            <div class="dialog__body-footer">
                <a class="btn btn-primary rounded-pill btn-ripple" href="javascript:void(0)" onclick="show9()">關閉</a>
            </div>
        </div>
        <!--popup-->
    </div>
</div>
    
    <!-- error-message start -->
    <div id="error-message" class="ios-dialog" style="display: none; z-index:999;">
        <div class="dialog-mask">
            <div class="dialog-ios">
                <div class="dialog-ios__body">
                    <h5 class="ios-title"></h5>
                    <span class="ios-text"></span>
                </div>
                <div class="dialog-ios__footer">
                    <div class="btn-group">
                        <button type="button" class="btn-primary" onclick="closeErrorMessage()">
                            OK
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- error-message end -->
    <div id="success-message" class="transfer-dialog" style="display: none;">
        <div class="dialog-mask">
            <!--success-->
            <div class="dialog success">
                <div class="dialog__body">
                    <div class="xfe">
                        <div class="xfe__icon"></div>
                        <p class="xfe__title title">實名認證已完成</p>
                        <p class="xfe__text text">無需再次填寫</p>
                    </div>
                </div>
                <div class="dialog__body-footer">
                    <a class="btn btn-primary rounded-pill btn-ripple" href="javascript:void(0)" onclick="closeSuccessMessage();">OK</a>
                </div>
            </div>
            <!--success-->
            <!--popup-->
        </div>
    </div>
    <div id="toast" class="toast-popup" style="display: none;">
        <div class="toast-popup__body">
            <div class="toast-popup__icon">
                <div class="toast-popup__icon__img -success"></div>
            </div>
            <div class="toast-popup__text text">無需再次填寫</div>
        </div>
    </div>
    <div id="danger-message" class="transfer-dialog" style="display: block;">
        
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/flatpickr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/l10n/zh.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pusher-js@7.0.3/dist/web/pusher.min.js"></script>

    <script type="text/javascript" src="/assets/style/js/slick.min.js"></script>
    <script src="/assets/style/js/main.js?t=1755303675"></script>

    <script>
    
        if (window.self !== window.top) {
            // 當前頁面在 iframe 裡
            window.top.location.href = window.location.href; // 讓主視窗跳轉到當前網址
        }
    
        $.ajaxSetup({
            headers: {
                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
            }
        });
        function show(id) {
            var x = document.getElementById(id);
            if (x.style.display === 'none') {
                x.style.display = 'block';
            } else {
                x.style.display = 'none';
            }
        }
        function showErrorMessage(title, message) {
            $('.ios-title').text(title);
            $('.ios-text').text(message);
            document.getElementById('error-message').style.display = 'block';
        }

        function closeErrorMessage() {
            document.getElementById('error-message').style.display = 'none';
        }

        function dangerMessage(title, message, href) {
            $('.title').text(title);
            $('.text').text(message);
            $('.link').attr('href', href);
            document.getElementById('danger-message').style.display = 'block';
        }

        function showSuccessMessage(title, message) {
            $('.title').text(title);
            $('.text').text(message);
            document.getElementById('success-message').style.display = 'block';
        }

        function closeSuccessMessage() {
            document.getElementById('success-message').style.display = 'none';
        }

        function toastMessage(message) {
            $('.text').text(message);
            window.toast();
        }

        function utf8ToBase64(str) {
            return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function(match, p1) {
                return String.fromCharCode('0x' + p1);
            }));
        }

        function base64ToUtf8(str) {
            return decodeURIComponent(Array.prototype.map.call(atob(str), function(c) {
                return '%' + c.charCodeAt(0).toString(16).padStart(2, '0');
            }).join(''));
        }
    </script>
    <script src="/assets/layui/layui.js"></script> 
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/zh.js"></script>

<script>
    // 點擊預覽區域時觸發 file input 的點擊事件
    $('.preview').click(function () {
        $(this).siblings('input[type=file]').click();
    });

    $('.image').change(function (e) {
        const file = e.target.files[0];
        let preview = $(this).siblings('.preview');
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                preview.html(`
                    <div style="position: relative; width: 100%; height: 100%; text-align: center;">
                        <img src="${e.target.result}" width="100%" height="100%">
                        <div style="
                            position: absolute;
                            top: 50%;
                            left: 50%;
                            transform: translate(-50%, -50%);
                            background: rgba(0, 0, 0, 0.5);
                            color: white;
                            padding: 10px 20px;
                            font-size: 16px;
                            font-weight: bold;">
                            僅提供實名認證使用
                        </div>
                    </div>
                `);
            }
            reader.readAsDataURL(file);
        }
    });




    $('#edit-form').on('submit', function (e) {
        e.preventDefault(); // 阻止表單默認提交行為
        $('button[type="submit"]').attr('disabled', true);

        var idfront = document.getElementById('id-front');
        var idback = document.getElementById('id-back');
        var selfphoto = document.getElementById('self-photo');

        if(!idfront.files || idfront.files.length === 0) {
            showErrorMessage("發生錯誤", "請上傳身分證正面");
            $('button[type="submit"]').attr('disabled', false);
        } else if(!idback.files || idback.files.length === 0) {
            showErrorMessage("發生錯誤", "請上傳身分證背面");
            $('button[type="submit"]').attr('disabled', false);
        //} else if(!selfphoto.files || selfphoto.files.length === 0) {
        //    showErrorMessage("發生錯誤", "請上傳手持證件自拍照");
        //    $('button[type="submit"]').attr('disabled', false);
        } else {
            const formData = new FormData(this);

            $.ajax({
                url: 'https://gf888.tw/member/kyc', // 後端處理圖片的路由
                type: 'POST',
                data: formData,
                contentType: false,
                processData: false,
                success: function (response) {
                    if(response.code == 0) {
                        toastMessage("新增成功");
                        setTimeout(() => {
                            location.href = 'https://gf888.tw/1824e8c9a3ad9495a988cd567860aaf0';
                        }, 1000);
                    } else {
                        showErrorMessage("發生錯誤", response.message);
                        $('button[type="submit"]').attr('disabled', false);
                    }
                },
                error: function (xhr, status, error) {
                    alert(xhr.responseText);
                }
            });
        }
    });

    $('.toggle-eyes').on('click', function(){
        $(this).children('span').toggleClass('el-value__reveal--off');
        if ($(this).siblings('.toggle-password').attr('type') == "password") {
            $(this).siblings('.toggle-password').attr('type', 'text');
        } else {
            $(this).siblings('.toggle-password').attr('type', 'password');
        }
    });

    function show9() {
        var x = document.getElementById('show9');
        if (x.style.display === 'none') {
            x.style.display = 'block';
        } else {
            x.style.display = 'none';
        }
    }

    flatpickr("#birthday", {
        locale: "zh",  // 設置為中文介面
        dateFormat: "Y-m-d"
    });
            dangerMessage("實名認證已完成","無需再次填寫", "https://gf888.tw/1824e8c9a3ad9495a988cd567860aaf0");
             $(function () {
  // 開啟：點第 4 個 tabbar 項目
  $(document).on('click', '.tabbar > a.tabbar__item:nth-child(4)', function (e) {
    e.preventDefault();
    e.stopImmediatePropagation();
    $('.client-popup-mask').css('display', 'flex');
  });

  // 點按鈕本體：不要關閉
  $(document).on('click', '.client-popup-btn', function (e) {
    e.stopPropagation();
  });

  // 點遮罩或容器內「非按鈕區域」：關閉
  $(document).on('click', '.client-popup-mask', function (e) {
    // 只要點擊目標往上找不到 .client-popup-btn，就關閉
    if ($(e.target).closest('.client-popup-btn').length === 0) {
      $(this).css('display', 'none');
    }
  });
});
    </script>



</body>

</html>